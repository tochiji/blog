{"version":3,"file":"component---src-pages-posts-tsx-32b1d81363f91437e9dd.js","mappings":"+KA2EA,EAxCc,WAAO,IAAD,EAGZA,EAAe,WAFRC,EAAAA,EAAAA,IA9BJ,cAgCoBD,aAAR,aAAG,EAAYE,MAAMC,KAAI,SAACC,GAAD,oBAAQ,CACpDC,MAAM,UAAAD,EAAEE,KAAKC,cAAP,eAAeC,OAAQ,GAC7BC,OAAO,UAAAL,EAAEE,KAAKI,mBAAP,eAAoBD,QAAS,GACpCE,MAAM,UAAAP,EAAEE,KAAKI,mBAAP,eAAoBC,OAAQ,GAClCC,KAAMC,OAAM,UAACT,EAAEE,KAAKI,mBAAR,iBAAC,EAAoBC,YAArB,aAAC,EAA0BG,MAAM,KAAK,KAAO,MAGrDC,EAAWC,MAAMC,KAAK,IAAIC,IAAIlB,EAAMG,KAAI,SAACC,GAAD,OAAOA,EAAEQ,UAAQO,MAC7D,SAACC,EAAGC,GAAJ,OAAUA,EAAID,KAGhB,OACE,gBAACE,EAAA,EAAD,KACE,2BAASC,UClDI,8BDmDX,mCACCR,EAASZ,KAAI,SAACqB,GAAD,OACZ,uBAAKC,IAAKD,EAAGD,UC/CC,mCDgDZ,uBAAKA,UC/CK,iCD+CyBC,GACnC,sBAAID,UC/CO,kCDgDRvB,EACE0B,QAAO,SAACC,GAAD,OAAOA,EAAEf,OAASY,KACzBrB,KAAI,SAACC,GAAD,OACH,sBAAIqB,IAAKrB,EAAEC,KAAMkB,UClDb,iCDmDF,qBAAGK,KAAMxB,EAAEC,MACT,wBAAMkB,UCnDL,kCDmDoCnB,EAAEK,OACvC,wBAAMc,UCnDP,gCDmDoCnB,EAAEO","sources":["webpack://blog/./src/pages/posts.tsx","webpack://blog/./src/styles/pages/posts.module.css"],"sourcesContent":["import { graphql, useStaticQuery } from 'gatsby';\nimport React from 'react';\n\nimport { Layout } from '../components/Layout';\nimport * as classes from '../styles/pages/posts.module.css';\n\nconst query = graphql`\n  query Posts {\n    posts: allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n    ) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            date\n          }\n        }\n      }\n    }\n  }\n`;\n\ntype Post = {\n  path: string;\n  title: string;\n  date: string;\n  year: number;\n};\n\ntype PostList = Post[];\n\nconst Posts = () => {\n  const data = useStaticQuery<GatsbyTypes.PostsQuery>(query);\n\n  const posts: PostList = data.posts?.edges.map((v) => ({\n    path: v.node.fields?.slug || '',\n    title: v.node.frontmatter?.title || '',\n    date: v.node.frontmatter?.date || '',\n    year: Number(v.node.frontmatter?.date?.split('-')[0]) || 0,\n  }));\n\n  const yearList = Array.from(new Set(posts.map((v) => v.year))).sort(\n    (a, b) => b - a,\n  );\n\n  return (\n    <Layout>\n      <section className={classes.posts}>\n        <h1>Posts</h1>\n        {yearList.map((y) => (\n          <div key={y} className={classes.postsGroup}>\n            <div className={classes.postYear}>{y}</div>\n            <ul className={classes.postsList}>\n              {posts\n                .filter((p) => p.year === y)\n                .map((v) => (\n                  <li key={v.path} className={classes.postItem}>\n                    <a href={v.path}>\n                      <span className={classes.postTitle}>{v.title}</span>\n                      <span className={classes.postDay}>{v.date}</span>\n                    </a>\n                  </li>\n                ))}\n            </ul>\n          </div>\n        ))}\n      </section>\n    </Layout>\n  );\n};\n\nexport default Posts;\n","// extracted by mini-css-extract-plugin\nexport var posts = \"posts-module--posts--jdBym\";\nexport var article = \"posts-module--article--8Hm6Z\";\nexport var date = \"posts-module--date--ytGrh\";\nexport var title = \"posts-module--title--3WPmb\";\nexport var description = \"posts-module--description--1ccJi\";\nexport var paginationWrapper = \"posts-module--paginationWrapper--1e-eJ\";\nexport var postsGroup = \"posts-module--postsGroup--2wxEK\";\nexport var postYear = \"posts-module--postYear--Zc0dO\";\nexport var postsList = \"posts-module--postsList--KTDJe\";\nexport var postItem = \"posts-module--postItem--aPb_A\";\nexport var postTitle = \"posts-module--postTitle--2455L\";\nexport var postDay = \"posts-module--postDay--2-nyE\";"],"names":["posts","useStaticQuery","edges","map","v","path","node","fields","slug","title","frontmatter","date","year","Number","split","yearList","Array","from","Set","sort","a","b","Layout","className","y","key","filter","p","href"],"sourceRoot":""}